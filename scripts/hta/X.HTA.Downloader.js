T.cache("X.HTA.Downloader","K,X.HTA.IO",function(d){var f=K.entity(d.pkg),g=K.access(d.dps[1]),h=/\//,i=/\/$/,j=/\\/,k=/\\$/;f.Downloader=K.clazz(K.ME,function(m,n,e){return{setFolder:function(a){var b=this;g.folderExists(a)||T.error("unexist:"+a);if(h.test(a)&&!i.test(a))a+="/";else if(j.test(a)&&!k.test(a))a+="\\";b.$folder=a},download:function(a){var b=this;if(!b.$xhr)b.$xhr=new K.IO;b.$xhr.send({url:a,done:function(c){if(c.error)b.fire(e.LOAD_ERROR,{error:c.error});else if(c.type==K.IO.XHR)try{alert(c.xhr.getResponseHeader("Content-Type"))}catch(l){b.fire(e.LOAD_ERROR,
{error:l.message})}}})}}},{LOAD_ERROR:"_load_error",LOAD_SUCCESS:"_load_success"})});
