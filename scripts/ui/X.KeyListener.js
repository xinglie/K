T.cache("X.KeyListener","K",function(e){var c=K.entity(e.pkg),d=["keyup","keydown"];c.KeyListener=K.clazz(K.ME,{ctor:function(a){var b=this;a=K.mix({zone:""},a);K.mix(b,a);if(a=K(b.zone)){a.tabIndex=-1;K.on(a,d,b.$keyupdown=K.bind(b.keyupdown,b))}else T.error("unfound:"+b.zone)},keyupdown:function(a){var b=this;if(a=K.evt(a)){var f=a.type=="keyup"?c.KeyListener.KEY_UP:c.KeyListener.KEY_DOWN;b.fire(f,b={ctrlKey:a.ctrlKey||a.metaKey,code:a.keyCode||a.which,shiftKey:a.shiftKey,altKey:a.altKey});b.prevent&&
K.evtPrevent(a);b.cancel&&K.evtCancel(a)}},dispose:function(){var a=this,b=K(b);K.un(b,d,a.$keyupdown)}},{KEY_DOWN:"_key_down",KEY_UP:"_key_up"})});
