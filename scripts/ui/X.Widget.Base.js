T.cache("X.Widget.Base","K",function(h){h=K.entity(h.pkg);h.Base=K.clazz(K.ME,function(i,j,f){K.mix(f,{CREATED:"_created",SHOWN:"_shown",HIDDEN:"_hidden",DISPOSED:"_disposed"});return{ctor:function(b){var a=this;a.id=K.guid("x_wgt_");a.zIdx=-1;a.opacity=1;a.isShown=false;a.isDisposed=true;a.isCreated=false;K.mix(a,b)},create:function(b,a,e,c){var d=this,g=K(c=c||d.id);if(!g||!d.isCreated){d.isDisposed=false;a=K.mix({zIndex:d.zIdx,opacity:d.opacity},a);if(a.zIndex==-1)delete a.zIndex;else d.zIdx=a.zIndex;
if(a.opacity==1)delete a.opacity;else d.opacity=a.opacity;g=K(b,{id:c},a);e=K(e)||document.body;e.appendChild(g);d.isCreated=true;d.fire(f.CREATED)}return g},show:function(b){var a=this;if(!a.isShown){a.isShown=true;b?K.nodeStyle(a.id,{left:b.x,top:b.y}):K.nodeStyle(a.id,{display:"block"});K.nodeStyle(a.id,"opacity")!=a.opacity&&a.updateOpacity(a.opacity);a.fire(f.SHOWN)}},hide:function(b){var a=this;if(a.isShown){a.isShown=false;b?K.nodeStyle(a.id,{left:b.x,top:b.y}):K.nodeStyle(a.id,{display:"none"});
a.fire(f.HIDDEN)}},dispose:function(){var b=this;if(!b.isDisposed){K.nodeDel(this.id);b.isShown=false;b.isDisposed=true;b.isCreated=false;b.fire(f.DISPOSED)}},getCenter:function(b){var a=this,e=K.body(),c=K.nodeBound(a.id);a=(e.width-c.width)/2;c=(e.height-c.height)/2;if(b){a+=e.scrollX;c+=e.scrollY}return{x:a,y:c}},updateZIdx:function(b){K.nodeStyle(this.id,{zIndex:this.zIdx=b})},updateSize:function(b,a){K.nodeStyle(this.id,{width:b||b===0?b:"auto",height:a||a===0?a:"auto"})},updateOpacity:function(b){K.nodeStyle(this.id,
{opacity:this.opacity=b})},updatePosition:function(b,a){K.nodeStyle(this.id,{left:b,top:a})}}})});
