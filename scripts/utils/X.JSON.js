T.cache("X.JSON","K",function(i){var h=window,f=K.entity(i.pkg);if(h.JSON){f.JSON={parse:function(a){return h.JSON.parse(a)},stringify:function(a){return h.JSON.stringify(a)}};T.log("native JSON")}else{var j={"\u0008":"\\b","\t":"\\t","\n":"\\n","\u000c":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},k=function(a){if(/["\\\x00-\x1f]/.test(a))a=a.replace(/["\\\x00-\x1f]/g,function(b){var c=j[b];if(c)return c;c=b.charCodeAt();return"\\u00"+Math.floor(c/16).toString(16)+(c%16).toString(16)});return'"'+a+'"'},
l=function(a){for(var b=["["],c,e=0,d;e<a.length;e++){d=a[e];switch(typeof d){case "undefined":case "function":case "unknown":break;default:c&&b.push(",");b.push(f.JSON.stringify(d));c=1}}b.push("]");return b.join("")},g=function(a){return a<10?"0"+a:a},m=function(a){return'"'+a.getUTCFullYear()+"-"+g(a.getUTCMonth()+1)+"-"+g(a.getUTCDate())+"T"+g(a.getUTCHours())+":"+g(a.getUTCMinutes())+":"+g(a.getUTCSeconds())+'Z"'},n=function(a){var b=["{"],c,e;for(var d in a)if(T.has(a,d)){c=a[d];switch(typeof c){case "undefined":case "function":case "unknown":break;
default:e&&b.push(",");b.push(f.JSON.stringify(d)+":"+f.JSON.stringify(c));e=1}}b.push("}");return b.join("")};f.JSON={parse:function(a){try{return Function("return "+a)()}catch(b){T.log(b);return b.message}},stringify:function(a){switch(typeof a){case "undefined":return"undefined";case "number":return h.isFinite(a)?String(a):"null";case "string":return k(a);case "boolean":return String(a);default:return a==null?"null":K.isArr(a)?l(a):K.type(a)=="date"?m(a):n(a)}}}}});
